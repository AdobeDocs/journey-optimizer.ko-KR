---
solution: Journey Optimizer
product: journey optimizer
title: 첫 번째 규칙 만들기
description: 오케스트레이션된 캠페인에 대한 규칙을 만드는 방법을 알아봅니다
badge: label="Alpha"
hide: true
hidefromtoc: true
exl-id: 5e956a6a-0b89-4d78-8f16-fe9fceb25674
source-git-commit: dd1a9b6e14617014756e5b4449578a1f7bf805b4
workflow-type: tm+mt
source-wordcount: '1801'
ht-degree: 7%

---

# 첫 번째 규칙 만들기 {#build-query}

+++ 목차

| 오케스트레이션된 캠페인 시작 | 오케스트레이션된 첫 번째 캠페인 시작 | 데이터베이스 쿼리 | 오케스트레이션된 캠페인 활동 |
|---|---|---|---|
| [오케스트레이션된 캠페인 시작](gs-orchestrated-campaigns.md)<br/><br/>[구성 단계](configuration-steps.md)<br/><br/>[오케스트레이션된 캠페인 액세스 및 관리](access-manage-orchestrated-campaigns.md) | [오케스트레이션된 캠페인 만들기에 대한 주요 단계](gs-campaign-creation.md)<br/><br/>[캠페인 만들기 및 예약](create-orchestrated-campaign.md)<br/><br/>[활동 오케스트레이션](orchestrate-activities.md)<br/><br/>[오케스트레이션된 캠페인으로 메시지 보내기](send-messages.md)<br/><br/>[캠페인 시작 및 모니터링](start-monitor-campaigns.md)<br/><br/>[보고](reporting-campaigns.md) | [규칙 빌더로 작업](orchestrated-rule-builder.md)<br/><br/><b>[첫 번째 쿼리 작성](build-query.md)</b><br/><br/>[표현식 편집](edit-expressions.md) | [활동 시작](activities/about-activities.md)<br/><br/>활동:<br/>[및 가입](activities/and-join.md) - [대상 작성](activities/build-audience.md) - [차원 변경](activities/change-dimension.md) - [결합](activities/combine.md) - [중복 제거](activities/deduplication.md) - [데이터 보강](activities/enrichment.md) - [포크](activities/fork.md) - [조정](activities/reconciliation.md) - [분할](activities/split.md) - [대기](activities/wait.md) |

{style="table-layout:fixed"}

+++

<br/>

오케스트레이션된 캠페인에 대한 규칙을 작성하는 주요 단계는 다음과 같습니다.

1. **조건 추가** - 데이터베이스 및 고급 식의 특성을 사용하여 사용자 지정 조건을 만들어 쿼리를 필터링할 사용자 지정 조건을 만듭니다.
1. **조건 결합** - 그룹 및 논리 연산자를 사용하여 캔버스에서 조건을 정렬합니다.
1. **규칙 확인 및 유효성 검사** - 저장하기 전에 규칙의 결과 데이터를 확인합니다.

## 조건 추가 {#conditions}

쿼리에 조건을 추가하려면 다음 단계를 수행합니다.

1. **[!UICONTROL 대상자 작성]** 활동에서 규칙 빌더에 액세스합니다.

1. 쿼리에 대한 첫 번째 조건을 만들려면 **조건 추가** 단추를 클릭하십시오.

   사전 정의된 필터를 사용하여 쿼리를 시작할 수도 있습니다. 이렇게 하려면 **[!UICONTROL 필터 선택 또는 저장]** 단추를 클릭하고 **[!UICONTROL 미리 정의된 필터 선택]**&#x200B;을 선택하십시오.

   ![규칙 빌더를 표시하는 이미지](assets/rule-builder-add.png)

1. 조건에 대한 기준으로 사용할 데이터베이스에서 속성을 식별합니다. 속성 옆에 있는 &quot;i&quot; 아이콘은 테이블이 저장된 테이블 및 해당 데이터 유형에 대한 정보를 제공합니다.

   ![특성 선택을 보여 주는 이미지](assets/rule-builder-select-attribute.png)

   >[!NOTE]
   >
   >**표현식 편집** 단추를 사용하면 표현식 편집기를 사용하여 데이터베이스 및 도우미 함수의 필드를 사용하여 표현식을 수동으로 정의할 수 있습니다. [표현식을 편집하는 방법을 알아봅니다](../orchestrated/edit-expressions.md)

1. 다음 추가 옵션에 액세스하려면 특성 옆에 있는 추가 작업 단추![&#128279;](assets/do-not-localize/rule-builder-icon-more.svg) 단추를 표시하는 이미지를 클릭하십시오.

+++ 값 분포

   테이블 내에서 주어진 속성에 대한 값 분포를 분석합니다. 이 기능은 사용 가능한 값, 그 개수, 백분율을 이해하는 데 유용합니다. 또한 쿼리를 작성하거나 표현식을 만들 때 대문자 사용이나 맞춤법이 일관되지 않은 것과 같은 문제를 방지하는 데도 도움이 됩니다.

   값이 많은 속성의 경우 도구에는 처음 20개만 표시됩니다. 이 경우 이러한 제한을 나타내는 **[!UICONTROL 부분 로드]** 알림이 표시됩니다. 고급 필터를 적용하여 표시된 결과를 구체화하고 특정 값 또는 데이터 하위 집합에 집중할 수 있습니다.

   ![값 분포를 보여 주는 이미지](assets/rule-builder-distribution-values.png)

+++

+++ 즐겨찾기에 추가

   즐겨찾기 메뉴에 속성을 추가하면 가장 자주 사용하는 속성에 빠르게 액세스할 수 있습니다. 즐겨찾기에 최대 20개의 속성을 추가할 수 있습니다. 즐겨 찾는 속성과 최근 속성은 조직 내 각 사용자와 연결되어 다양한 기기 간 접근성을 보장하고 여러 디바이스에 걸쳐 원활한 경험을 제공합니다.

   즐겨찾기에 추가한 속성에 액세스하려면 **[!UICONTROL 즐겨찾기 및 최근 항목]** 메뉴를 사용하십시오. 즐겨찾기 속성이 먼저 나타나고 최근에 사용된 속성이 뒤따르므로 필요한 속성을 쉽게 찾을 수 있습니다. 즐겨찾기에서 속성을 제거하려면 별표 아이콘을 다시 선택합니다.

   ![즐겨찾기 인터페이스를 표시하는 이미지](assets/rule-builder-favorites.png)

+++

1. 선택한 특성을 조건에 추가하려면 **[!UICONTROL 확인]**&#x200B;을 클릭합니다.

1. 속성에 대해 원하는 값을 구성할 수 있는 속성 창이 표시됩니다.

   ![조건이 추가된 규칙 빌더를 보여 주는 이미지](assets/rule-builder-condition.png)

1. 드롭다운 목록에서 적용할 **[!UICONTROL 연산자]**&#x200B;를 선택합니다. 다양한 연산자를 사용할 수 있습니다. 드롭다운 목록에서 사용할 수 있는 연산자는 속성의 데이터 유형에 따라 다릅니다.

   +++사용 가능한 연산자 목록

   | 연산자 | 용도 | 예 |
   |---|---|---|
   | 다음과 같음 | 두 번째 값 열에 입력한 데이터와 동일한 결과를 반환합니다. | 성(@lastName)이 &#39;Jones&#39;와 같으면 성이 Jones인 수신자만 반환됩니다. |
   | 다음과 같지 않음 | 입력한 값과 동일하지 않은 모든 값을 반환합니다. | 언어(@language)가 &#39;English&#39;와 같지 않습니다. |
   | 보다 큼 | 입력한 값보다 큰 값을 반환합니다. | Age (@age)가 50보다 크면 &#39;51&#39;, &#39;52&#39;와 같이 &#39;50&#39;보다 큰 모든 값이 반환됩니다. |
   | 보다 작음 | 입력한 값보다 작은 값을 반환합니다. | &#39;DaysAgo(100)&#39; 이전 생성일(@created)은 100일 이전에 생성된 모든 수신자를 반환합니다. |
   | 보다 크거나 같음 | 입력한 값보다 크거나 같은 모든 값을 반환합니다. | &#39;30&#39;보다 크거나 같은 나이(@age)는 30세 이상의 모든 수신자를 반환합니다. |
   | 보다 작거나 같음 | 입력한 값과 같거나 낮은 값을 모두 반환합니다. | &#39;60&#39;보다 작거나 같은 나이(@age)는 60세 이하의 모든 수신자를 반환합니다. |
   | 포함 위치 | 표시된 값에 포함된 결과를 반환합니다. 이러한 값은 쉼표로 구분해야 합니다. | 생년월일(@birthDate)은 &#39;1979/10/1984/10/12/12&#39;에 포함되어 있으며 이 날짜 사이에 태어난 수취인을 반환합니다. |
   | 안에 없음 | 연산자에 포함 과 같은 작업을 합니다. 여기서 수신자는 입력된 값을 기준으로 제외됩니다. | 생년월일(@birthDate)은 &#39;1979/10/1984/12/10&#39;에 포함되지 않습니다. 이 날짜 내에 태어난 수신자는 반환되지 않습니다. |
   | 비어 있음 | 두 번째 값 열에서 빈 값과 일치하는 결과를 반환합니다. | Mobile (@mobilePhone) is empty 는 모바일 번호가 없는 모든 수신자를 반환합니다. |
   | 비어 있지 않음 | Is empty 연산자와 반대로 작동합니다. 두 번째 값 열에는 데이터를 입력할 필요가 없습니다. | 이메일(@email)이 비어 있지 않습니다. |
   | 다음으로 시작 | 입력한 값으로 시작하는 결과를 반환합니다. | 계정 번호(@account)는 &#39;32010&#39;로 시작합니다. |
   | 다음으로 시작하지 않음 | 입력한 값으로 시작하지 않는 결과를 반환합니다. | 계정 번호(@account)가 &#39;20&#39;으로 시작하지 않습니다. |
   | 다음 포함 | 입력한 값 이상이 포함된 결과를 반환합니다. | 이메일 도메인(@domain)에 &#39;mail&#39;이 있으면 &#39;mail&#39;이 포함된 모든 도메인 이름(예: &#39;gmail.com&#39;)이 반환됩니다. |
   | 포함하지 않음 | 입력한 값이 포함되지 않은 결과를 반환합니다. | 이메일 도메인(@domain)에 &#39;vo&#39;가 포함되어 있지 않습니다. &#39;vo&#39;가 포함된 도메인 이름(예: &#39;voila.fr&#39;)은 결과에 표시되지 않습니다. |
   | 다음과 유사 | 포함 연산자와 유사하게 값에 % 와일드카드 문자를 삽입할 수 있습니다. | &#39;Jon%s&#39;과(와) 같은 성(@lastName) 와일드카드 문자는 &quot;Joker&quot;로 작동하여 &quot;Jones&quot;와 같은 이름을 찾습니다. |
   | 비슷하지 않음 | 포함 연산자와 유사하게 값에 % 와일드카드 문자를 삽입할 수 있습니다. | 성(@lastName)은 &#39;Smi%h&#39;와 다릅니다. 성이 &#39;Smith&#39;인 수신자는 반환되지 않습니다. |

   +++

1. **값** 필드에서 예상 값을 정의합니다. 표현식 편집기를 사용하여 데이터베이스 및 도우미 함수의 필드를 사용하여 표현식을 수동으로 정의할 수도 있습니다. 이렇게 하려면 식 편집기 아이콘을 표시하는 ![이미지](assets/do-not-localize/rule-builder-icon-editor.svg) 아이콘을 클릭합니다. [표현식을 편집하는 방법을 알아봅니다](../orchestrated/edit-expressions.md)

   날짜 유형 특성의 경우 **[!UICONTROL 사전 설정]** 옵션을 사용하여 사전 정의된 값을 사용할 수 있습니다.

   +++예제 참조

   ![사전 설정 옵션을 표시하는 이미지](assets/rule-builder-attribute-preset.png)

   +++

### 연결된 테이블에 대한 사용자 지정 조건(1-1 및 1-N 링크){#links}

사용자 지정 조건을 사용하면 현재 규칙에서 사용하는 테이블에 연결된 테이블을 쿼리할 수 있습니다. 여기에는 1-1 카디널리티 링크가 있는 테이블 또는 컬렉션 테이블(1-N 링크)이 포함됩니다.

**1-1 링크**&#x200B;의 경우 연결된 테이블로 이동하여 원하는 특성을 선택하고 예상 값을 정의하십시오.

**값** 선택기에서 테이블 링크를 직접 선택하고 확인할 수도 있습니다. 이 경우 아래 예와 같이 전용 선택기를 사용하여 선택한 테이블에 사용할 수 있는 값을 선택해야 합니다.

+++쿼리 예

여기에서 쿼리는 레이블이 &quot;실행 중&quot;인 브랜드를 타겟팅합니다.

1. **Brand** 테이블 내부로 이동하여 **Label** 특성을 선택하십시오.

   브랜드 테이블의 ![스크린샷](assets/rule-builder-1-1-attribute.png)

1. 속성에 대한 예상 값을 정의합니다.

   브랜드 테이블의 ![스크린샷](assets/rule-builder-1-1-attribute-value.png)

다음은 테이블 링크가 직접 선택된 쿼리 샘플입니다. 이 테이블에 사용할 수 있는 값은 전용 선택기에서 선택해야 합니다.

브랜드 테이블의 ![스크린샷](assets/rule-builder-1-1-attribute-table.png)

+++

**1-N 링크**&#x200B;의 경우 아래 예와 같이 쿼리를 세분화할 하위 조건을 정의할 수 있습니다.

+++쿼리 예

여기서 쿼리는 Brewmsaster 제품과 관련된 구매를 한 수신자를 대상으로 하며, 100$ 이상입니다.

1. **구매** 테이블을 선택하고 확인합니다.

1. **[!UICONTROL 조건 추가]**&#x200B;를 클릭하여 선택한 테이블에 적용할 하위 조건을 정의합니다.

   ![구매 테이블의 스크린샷](assets/rule-builder-1-n-purchase.png)

1. 필요에 따라 하위 조건을 추가합니다.

   ![구매 테이블의 스크린샷](assets/rule-builder-1-n-collection.png)

+++

### 집계 데이터를 사용한 사용자 지정 조건 {#aggregate}

사용자 지정 조건을 사용하면 집계 작업을 수행할 수 있습니다. 이렇게 하려면 컬렉션 테이블에서 속성을 직접 선택해야 합니다.

1. 원하는 수집 테이블 내부로 이동하여 합계 작업을 수행할 속성을 선택합니다.

1. 속성 창에서 **데이터 집계** 옵션을 전환하고 원하는 집계 함수를 선택합니다.

   ![집계 데이터 옵션의 스크린샷](assets/rule-builder-aggregate.png)

## 연산자를 사용하여 조건 결합 {#operators}

규칙에 새 조건을 추가할 때마다 **AND** 연산자에 의해 기존 조건에 자동으로 연결됩니다. 이는 두 조건으로부터의 결과가 결합되어 있다는 것을 의미한다.

조건 간에 연산자를 변경하려면 연산자를 클릭하고 원하는 연산자를 선택합니다.

![쿼리의 예](assets/rule-builder-change-operator.png)

사용 가능한 연산자는 다음과 같습니다.

* **AND(교차)**: 아웃바운드 전환의 모든 필터링 구성 요소와 일치하는 결과를 결합합니다.
* **OR(유니온)**: 아웃바운드 전환의 필터링 구성 요소 중 하나 이상과 일치하는 결과를 포함합니다.
* **제외(제외)**: 아웃바운드 전환에서 모든 필터링 구성 요소와 일치하는 결과를 제외합니다.

## 조건 조작 {#manipulate}

규칙 빌더 캔버스 도구 모음에서는 규칙 내의 조건을 쉽게 조작할 수 있는 옵션을 제공합니다.

| 도구 모음 아이콘 | 설명 |
|--- |--- |
| ![위로 이동 선택 아이콘](assets/do-not-localize/rule-builder-icon-up.svg) | 구성 요소를 행 위로 이동합니다. |
| ![선택 영역 아래로 이동 아이콘](assets/do-not-localize/rule-builder-icon-down.svg) | 구성 요소를 한 행 아래로 이동합니다. |
| ![그룹 선택 아이콘](assets/do-not-localize/rule-builder-icon-group.svg) | 두 개의 구성 요소를 한 그룹에 넣습니다. |
| ![그룹 해제 선택 아이콘](assets/do-not-localize/rule-builder-icon-ungroup.svg) | 단일 그룹의 구성 요소를 구분합니다. |
| ![모든 아이콘 확장](assets/do-not-localize/rule-builder-icon-expand.svg) | 모든 그룹을 확장합니다. |
| ![모든 아이콘 축소](assets/do-not-localize/rule-builder-icon-collapse.svg) | 모든 그룹을 축소합니다. |
| ![모든 아이콘 제거](assets/do-not-localize/rule-builder-icon-delete.svg) | 모든 그룹 및 구성 요소를 제거합니다. |

필요에 따라 구성 요소를 동일한 그룹으로 그룹화하고 함께 연결하여 중간 구성 요소 그룹을 만들어야 할 수도 있습니다.

* 두 개의 기존 조건을 그룹화하려면 두 조건 중 하나를 선택하고 ![위로 이동 선택 아이콘](assets/do-not-localize/rule-builder-icon-up.svg) 또는 ![아래로 이동 선택 아이콘](assets/do-not-localize/rule-builder-icon-down.svg) 단추를 클릭하여 위 또는 아래 조건으로 그룹화합니다.

* 기존 조건을 새 조건으로 그룹화하려면 조건을 선택하고 추가 작업 단추를 표시하는 ![이미지](assets/do-not-localize/rule-builder-icon-more.svg) 단추를 클릭한 다음 **[!UICONTROL 그룹 추가]**&#x200B;를 선택합니다. 그룹에 추가할 새 속성을 선택한 다음 확인합니다.

  ![](assets/rule-builder-edit-groups.png)

아래 예에서는 중간 그룹을 만들어 BrewMaster 또는 VanillaVelvet 제품을 구매한 고객을 대상으로 했습니다.

![](assets/rule-builder-groups.png)

## 쿼리 확인 및 검증

캔버스에 쿼리를 만들면 **규칙 속성** 창을 사용하여 쿼리를 확인할 수 있습니다. 사용 가능한 작업은 다음과 같습니다.

* **결과 보기:** 쿼리의 결과 데이터를 표시합니다.
* **코드 보기**: SQL에서 쿼리의 코드 기반 버전을 표시합니다.
* **계산**: 규칙에서 타겟팅한 레코드 수를 업데이트하고 표시합니다.
* **필터 선택 또는 저장**: 캔버스에서 사용할 미리 정의된 기존 필터를 선택하거나 나중에 다시 사용할 수 있도록 쿼리를 미리 정의된 필터로 저장합니다.

<br/>

    >[!IMPORTANT]
    >
    >규칙 속성 창에서 미리 정의된 필터를 선택하면 캔버스에 만들어진 규칙이 선택한 필터로 바뀝니다.

규칙이 준비되면 의 **[!UICONTROL 확인]** 단추를 클릭하여 저장합니다.
